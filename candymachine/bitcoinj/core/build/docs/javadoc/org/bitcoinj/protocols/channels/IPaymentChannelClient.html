<!DOCTYPE HTML>
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (11.0.2) on Mon Mar 25 15:23:01 PDT 2019 -->
<title>IPaymentChannelClient (bitcoinj-core 0.16-SNAPSHOT API)</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="dc.created" content="2019-03-25">
<link rel="stylesheet" type="text/css" href="../../../../stylesheet.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../../jquery/jquery-ui.css" title="Style">
<script type="text/javascript" src="../../../../script.js"></script>
<script type="text/javascript" src="../../../../jquery/jszip/dist/jszip.min.js"></script>
<script type="text/javascript" src="../../../../jquery/jszip-utils/dist/jszip-utils.min.js"></script>
<!--[if IE]>
<script type="text/javascript" src="../../../../jquery/jszip-utils/dist/jszip-utils-ie.min.js"></script>
<![endif]-->
<script type="text/javascript" src="../../../../jquery/jquery-3.3.1.js"></script>
<script type="text/javascript" src="../../../../jquery/jquery-migrate-3.0.1.js"></script>
<script type="text/javascript" src="../../../../jquery/jquery-ui.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="IPaymentChannelClient (bitcoinj-core 0.16-SNAPSHOT API)";
        }
    }
    catch(err) {
    }
//-->
var data = {"i0":6,"i1":6,"i2":6,"i3":6,"i4":6};
var tabs = {65535:["t0","All Methods"],2:["t2","Instance Methods"],4:["t3","Abstract Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
var pathtoroot = "../../../../";
var useModuleDirectories = true;
loadScripts(document, 'script');</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<header role="banner">
<nav role="navigation">
<div class="fixedNav">
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a id="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a id="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../index.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-all.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../allclasses.html">All&nbsp;Classes</a></li>
</ul>
<ul class="navListSearch">
<li><label for="search">SEARCH:</label>
<input type="text" id="search" value="search" disabled="disabled">
<input type="reset" id="reset" value="reset" disabled="disabled">
</li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li><a href="#nested.class.summary">Nested</a>&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a id="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
</div>
<div class="navPadding">&nbsp;</div>
<script type="text/javascript"><!--
$('.navPadding').css('padding-top', $('.fixedNav').css("height"));
//-->
</script>
</nav>
</header>
<!-- ======== START OF CLASS DATA ======== -->
<main role="main">
<div class="header">
<div class="subTitle"><span class="packageLabelInType">Package</span>&nbsp;<a href="package-summary.html">org.bitcoinj.protocols.channels</a></div>
<h2 title="Interface IPaymentChannelClient" class="title">Interface IPaymentChannelClient</h2>
</div>
<div class="contentContainer">
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl>
<dt>All Known Implementing Classes:</dt>
<dd><code><a href="PaymentChannelClient.html" title="class in org.bitcoinj.protocols.channels">PaymentChannelClient</a></code></dd>
</dl>
<hr>
<pre>public interface <span class="typeNameLabel">IPaymentChannelClient</span></pre>
<div class="block">A class implementing this interface supports the basic operations of a payment channel. An implementation is provided
 in <a href="PaymentChannelClient.html" title="class in org.bitcoinj.protocols.channels"><code>PaymentChannelClient</code></a>, but alternative implementations are possible. For example, an implementor might
 send RPCs to a separate (locally installed or even remote) wallet app rather than implementing the algorithm locally.</div>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ======== NESTED CLASS SUMMARY ======== -->
<section role="region">
<ul class="blockList">
<li class="blockList"><a id="nested.class.summary">
<!--   -->
</a>
<h3>Nested Class Summary</h3>
<table class="memberSummary">
<caption><span>Nested Classes</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colSecond" scope="col">Interface</th>
<th class="colLast" scope="col">Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static interface&nbsp;</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="IPaymentChannelClient.ClientChannelProperties.html" title="interface in org.bitcoinj.protocols.channels">IPaymentChannelClient.ClientChannelProperties</a></span></code></th>
<td class="colLast">
<div class="block">Set Client payment channel properties.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static interface&nbsp;</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="IPaymentChannelClient.ClientConnection.html" title="interface in org.bitcoinj.protocols.channels">IPaymentChannelClient.ClientConnection</a></span></code></th>
<td class="colLast">
<div class="block">Implements the connection between this client and the server, providing an interface which allows messages to be
 sent to the server, requests for the connection to the server to be closed, and a callback which occurs when the
 channel is fully open.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static interface&nbsp;</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="IPaymentChannelClient.Factory.html" title="interface in org.bitcoinj.protocols.channels">IPaymentChannelClient.Factory</a></span></code></th>
<td class="colLast">
<div class="block">An implementor of this interface creates payment channel clients that "talk back" with the given connection.</div>
</td>
</tr>
</table>
</li>
</ul>
</section>
<!-- ========== METHOD SUMMARY =========== -->
<section role="region">
<ul class="blockList">
<li class="blockList"><a id="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="memberSummary">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t2" class="tableTab"><span><a href="javascript:show(2);">Instance Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t3" class="tableTab"><span><a href="javascript:show(4);">Abstract Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colSecond" scope="col">Method</th>
<th class="colLast" scope="col">Description</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#connectionClosed()">connectionClosed</a></span>()</code></th>
<td class="colLast">
<div class="block">Called when the connection to the server terminates.</div>
</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#connectionOpen()">connectionOpen</a></span>()</code></th>
<td class="colLast">
<div class="block">Called to indicate the connection has been opened and messages can now be generated for the server.</div>
</td>
</tr>
<tr id="i2" class="altColor">
<td class="colFirst"><code>com.google.common.util.concurrent.ListenableFuture&lt;<a href="PaymentIncrementAck.html" title="class in org.bitcoinj.protocols.channels">PaymentIncrementAck</a>&gt;</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#incrementPayment(org.bitcoinj.core.Coin,com.google.protobuf.ByteString,org.bouncycastle.crypto.params.KeyParameter)">incrementPayment</a></span>&#8203;(<a href="../../core/Coin.html" title="class in org.bitcoinj.core">Coin</a>&nbsp;size,
                com.google.protobuf.ByteString&nbsp;info,
                org.bouncycastle.crypto.params.KeyParameter&nbsp;userKey)</code></th>
<td class="colLast">
<div class="block">Increments the total value which we pay the server.</div>
</td>
</tr>
<tr id="i3" class="rowColor">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#receiveMessage(org.bitcoin.paymentchannel.Protos.TwoWayChannelMessage)">receiveMessage</a></span>&#8203;(<a href="../../../bitcoin/paymentchannel/Protos.TwoWayChannelMessage.html" title="class in org.bitcoin.paymentchannel">Protos.TwoWayChannelMessage</a>&nbsp;msg)</code></th>
<td class="colLast">
<div class="block">Called when a message is received from the server.</div>
</td>
</tr>
<tr id="i4" class="altColor">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#settle()">settle</a></span>()</code></th>
<td class="colLast">
<div class="block">Settles the channel, notifying the server it can broadcast the most recent payment transaction.</div>
</td>
</tr>
</table>
</li>
</ul>
</section>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ METHOD DETAIL ========== -->
<section role="region">
<ul class="blockList">
<li class="blockList"><a id="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a id="receiveMessage(org.bitcoin.paymentchannel.Protos.TwoWayChannelMessage)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>receiveMessage</h4>
<pre class="methodSignature">void&nbsp;receiveMessage&#8203;(<a href="../../../bitcoin/paymentchannel/Protos.TwoWayChannelMessage.html" title="class in org.bitcoin.paymentchannel">Protos.TwoWayChannelMessage</a>&nbsp;msg)
             throws <a href="../../core/InsufficientMoneyException.html" title="class in org.bitcoinj.core">InsufficientMoneyException</a></pre>
<div class="block">Called when a message is received from the server. Processes the given message and generates events based on its
 content.</div>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../core/InsufficientMoneyException.html" title="class in org.bitcoinj.core">InsufficientMoneyException</a></code></dd>
</dl>
</li>
</ul>
<a id="connectionClosed()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>connectionClosed</h4>
<pre class="methodSignature">void&nbsp;connectionClosed()</pre>
<div class="block"><p>Called when the connection to the server terminates.</p>

 <p>For stateless protocols, this translates to a client not using the channel for the immediate future, but
 intending to reopen the channel later. There is likely little reason to use this in a stateless protocol.</p>

 <p>Note that this <b>MUST</b> still be called even after either
 <a href="IPaymentChannelClient.ClientConnection.html#destroyConnection(org.bitcoinj.protocols.channels.PaymentChannelCloseException.CloseReason)"><code>IPaymentChannelClient.ClientConnection.destroyConnection(PaymentChannelCloseException.CloseReason)</code></a> or
 <a href="#settle()"><code>settle()</code></a> is called, to actually handle the connection close logic.</p></div>
</li>
</ul>
<a id="settle()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>settle</h4>
<pre class="methodSignature">void&nbsp;settle()
     throws java.lang.IllegalStateException</pre>
<div class="block"><p>Settles the channel, notifying the server it can broadcast the most recent payment transaction.</p>

 <p>Note that this only generates a CLOSE message for the server and calls
 <a href="IPaymentChannelClient.ClientConnection.html#destroyConnection(org.bitcoinj.protocols.channels.PaymentChannelCloseException.CloseReason)"><code>IPaymentChannelClient.ClientConnection.destroyConnection(PaymentChannelCloseException.CloseReason)</code></a>
 to settle the connection, it does not actually handle connection close logic, and
 <a href="PaymentChannelClient.html#connectionClosed()"><code>PaymentChannelClient.connectionClosed()</code></a> must still be called after the connection fully settles.</p></div>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.lang.IllegalStateException</code> - If the connection is not currently open (ie the CLOSE message cannot be sent)</dd>
</dl>
</li>
</ul>
<a id="connectionOpen()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>connectionOpen</h4>
<pre class="methodSignature">void&nbsp;connectionOpen()</pre>
<div class="block"><p>Called to indicate the connection has been opened and messages can now be generated for the server.</p>

 <p>Attempts to find a channel to resume and generates a CLIENT_VERSION message for the server based on the
 result.</p></div>
</li>
</ul>
<a id="incrementPayment(org.bitcoinj.core.Coin,com.google.protobuf.ByteString,org.bouncycastle.crypto.params.KeyParameter)">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>incrementPayment</h4>
<pre class="methodSignature">com.google.common.util.concurrent.ListenableFuture&lt;<a href="PaymentIncrementAck.html" title="class in org.bitcoinj.protocols.channels">PaymentIncrementAck</a>&gt;&nbsp;incrementPayment&#8203;(<a href="../../core/Coin.html" title="class in org.bitcoinj.core">Coin</a>&nbsp;size,
                                                                                         @Nullable
                                                                                         com.google.protobuf.ByteString&nbsp;info,
                                                                                         @Nullable
                                                                                         org.bouncycastle.crypto.params.KeyParameter&nbsp;userKey)
                                                                                  throws <a href="ValueOutOfRangeException.html" title="class in org.bitcoinj.protocols.channels">ValueOutOfRangeException</a>,
                                                                                         java.lang.IllegalStateException,
                                                                                         <a href="../../core/ECKey.KeyIsEncryptedException.html" title="class in org.bitcoinj.core">ECKey.KeyIsEncryptedException</a></pre>
<div class="block">Increments the total value which we pay the server. Note that the amount of money sent may not be the same as the
 amount of money actually requested. It can be larger if the amount left over in the channel would be too small to
 be accepted by the Bitcoin network. ValueOutOfRangeException will be thrown, however, if there's not enough money
 left in the channel to make the payment at all. Only one payment can be in-flight at once. You have to ensure
 you wait for the previous increase payment future to complete before incrementing the payment again.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>size</code> - How many satoshis to increment the payment by (note: not the new total).</dd>
<dd><code>info</code> - Information about this update, used to extend this protocol.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>a future that completes when the server acknowledges receipt and acceptance of the payment.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="ValueOutOfRangeException.html" title="class in org.bitcoinj.protocols.channels">ValueOutOfRangeException</a></code> - If the size is negative or would pay more than this channel's total value
                                  (<a href="PaymentChannelClientConnection.html#state()"><code>PaymentChannelClientConnection.state()</code></a>.getTotalValue())</dd>
<dd><code>java.lang.IllegalStateException</code> - If the channel has been closed or is not yet open
                               (see <a href="PaymentChannelClientConnection.html#getChannelOpenFuture()"><code>PaymentChannelClientConnection.getChannelOpenFuture()</code></a> for the second)</dd>
<dd><code><a href="../../core/ECKey.KeyIsEncryptedException.html" title="class in org.bitcoinj.core">ECKey.KeyIsEncryptedException</a></code> - If the keys are encrypted and no AES key has been provided,</dd>
</dl>
</li>
</ul>
</li>
</ul>
</section>
</li>
</ul>
</div>
</div>
</main>
<!-- ========= END OF CLASS DATA ========= -->
<footer role="contentinfo">
<nav role="navigation">
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a id="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a id="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../index.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-all.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../allclasses.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li><a href="#nested.class.summary">Nested</a>&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a id="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</nav>
</footer>
</body>
</html>
