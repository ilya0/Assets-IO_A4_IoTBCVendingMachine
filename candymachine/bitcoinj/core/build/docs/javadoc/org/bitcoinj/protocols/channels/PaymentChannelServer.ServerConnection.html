<!DOCTYPE HTML>
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (11.0.2) on Mon Mar 25 15:23:01 PDT 2019 -->
<title>PaymentChannelServer.ServerConnection (bitcoinj-core 0.16-SNAPSHOT API)</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="dc.created" content="2019-03-25">
<link rel="stylesheet" type="text/css" href="../../../../stylesheet.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../../jquery/jquery-ui.css" title="Style">
<script type="text/javascript" src="../../../../script.js"></script>
<script type="text/javascript" src="../../../../jquery/jszip/dist/jszip.min.js"></script>
<script type="text/javascript" src="../../../../jquery/jszip-utils/dist/jszip-utils.min.js"></script>
<!--[if IE]>
<script type="text/javascript" src="../../../../jquery/jszip-utils/dist/jszip-utils-ie.min.js"></script>
<![endif]-->
<script type="text/javascript" src="../../../../jquery/jquery-3.3.1.js"></script>
<script type="text/javascript" src="../../../../jquery/jquery-migrate-3.0.1.js"></script>
<script type="text/javascript" src="../../../../jquery/jquery-ui.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="PaymentChannelServer.ServerConnection (bitcoinj-core 0.16-SNAPSHOT API)";
        }
    }
    catch(err) {
    }
//-->
var data = {"i0":6,"i1":6,"i2":6,"i3":6,"i4":6};
var tabs = {65535:["t0","All Methods"],2:["t2","Instance Methods"],4:["t3","Abstract Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
var pathtoroot = "../../../../";
var useModuleDirectories = true;
loadScripts(document, 'script');</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<header role="banner">
<nav role="navigation">
<div class="fixedNav">
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a id="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a id="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../index.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-all.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../allclasses.html">All&nbsp;Classes</a></li>
</ul>
<ul class="navListSearch">
<li><label for="search">SEARCH:</label>
<input type="text" id="search" value="search" disabled="disabled">
<input type="reset" id="reset" value="reset" disabled="disabled">
</li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a id="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
</div>
<div class="navPadding">&nbsp;</div>
<script type="text/javascript"><!--
$('.navPadding').css('padding-top', $('.fixedNav').css("height"));
//-->
</script>
</nav>
</header>
<!-- ======== START OF CLASS DATA ======== -->
<main role="main">
<div class="header">
<div class="subTitle"><span class="packageLabelInType">Package</span>&nbsp;<a href="package-summary.html">org.bitcoinj.protocols.channels</a></div>
<h2 title="Interface PaymentChannelServer.ServerConnection" class="title">Interface PaymentChannelServer.ServerConnection</h2>
</div>
<div class="contentContainer">
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl>
<dt>Enclosing class:</dt>
<dd><a href="PaymentChannelServer.html" title="class in org.bitcoinj.protocols.channels">PaymentChannelServer</a></dd>
</dl>
<hr>
<pre>public static interface <span class="typeNameLabel">PaymentChannelServer.ServerConnection</span></pre>
<div class="block">Implements the connection between this server and the client, providing an interface which allows messages to be
 sent to the client, requests for the connection to the client to be closed, and callbacks which occur when the
 channel is fully open or the client completes a payment.</div>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ========== METHOD SUMMARY =========== -->
<section role="region">
<ul class="blockList">
<li class="blockList"><a id="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="memberSummary">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t2" class="tableTab"><span><a href="javascript:show(2);">Instance Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t3" class="tableTab"><span><a href="javascript:show(4);">Abstract Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colSecond" scope="col">Method</th>
<th class="colLast" scope="col">Description</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#channelOpen(org.bitcoinj.core.Sha256Hash)">channelOpen</a></span>&#8203;(<a href="../../core/Sha256Hash.html" title="class in org.bitcoinj.core">Sha256Hash</a>&nbsp;contractHash)</code></th>
<td class="colLast">
<div class="block">Triggered when the channel is opened and payments can begin</div>
</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#destroyConnection(org.bitcoinj.protocols.channels.PaymentChannelCloseException.CloseReason)">destroyConnection</a></span>&#8203;(<a href="PaymentChannelCloseException.CloseReason.html" title="enum in org.bitcoinj.protocols.channels">PaymentChannelCloseException.CloseReason</a>&nbsp;reason)</code></th>
<td class="colLast">
<div class="block">Requests that the connection to the client be closed</div>
</td>
</tr>
<tr id="i2" class="altColor">
<td class="colFirst"><code>com.google.common.util.concurrent.ListenableFuture&lt;org.bouncycastle.crypto.params.KeyParameter&gt;</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#getUserKey()">getUserKey</a></span>()</code></th>
<td class="colLast">
<div class="block">Called when a channel is being closed and must be signed, possibly with an encrypted key.</div>
</td>
</tr>
<tr id="i3" class="rowColor">
<td class="colFirst"><code>com.google.common.util.concurrent.ListenableFuture&lt;com.google.protobuf.ByteString&gt;</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#paymentIncrease(org.bitcoinj.core.Coin,org.bitcoinj.core.Coin,com.google.protobuf.ByteString)">paymentIncrease</a></span>&#8203;(<a href="../../core/Coin.html" title="class in org.bitcoinj.core">Coin</a>&nbsp;by,
               <a href="../../core/Coin.html" title="class in org.bitcoinj.core">Coin</a>&nbsp;to,
               com.google.protobuf.ByteString&nbsp;info)</code></th>
<td class="colLast">
<div class="block">Called when the payment in this channel was successfully incremented by the client</div>
</td>
</tr>
<tr id="i4" class="altColor">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#sendToClient(org.bitcoin.paymentchannel.Protos.TwoWayChannelMessage)">sendToClient</a></span>&#8203;(<a href="../../../bitcoin/paymentchannel/Protos.TwoWayChannelMessage.html" title="class in org.bitcoin.paymentchannel">Protos.TwoWayChannelMessage</a>&nbsp;msg)</code></th>
<td class="colLast">
<div class="block">Requests that the given message be sent to the client.</div>
</td>
</tr>
</table>
</li>
</ul>
</section>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ METHOD DETAIL ========== -->
<section role="region">
<ul class="blockList">
<li class="blockList"><a id="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a id="sendToClient(org.bitcoin.paymentchannel.Protos.TwoWayChannelMessage)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>sendToClient</h4>
<pre class="methodSignature">void&nbsp;sendToClient&#8203;(<a href="../../../bitcoin/paymentchannel/Protos.TwoWayChannelMessage.html" title="class in org.bitcoin.paymentchannel">Protos.TwoWayChannelMessage</a>&nbsp;msg)</pre>
<div class="block"><p>Requests that the given message be sent to the client. There are no blocking requirements for this method,
 however the order of messages must be preserved.</p>

 <p>If the send fails, no exception should be thrown, however
 <a href="PaymentChannelServer.html#connectionClosed()"><code>PaymentChannelServer.connectionClosed()</code></a> should be called immediately.</p>

 <p>Called while holding a lock on the <a href="PaymentChannelServer.html" title="class in org.bitcoinj.protocols.channels"><code>PaymentChannelServer</code></a> object - be careful about reentrancy</p></div>
</li>
</ul>
<a id="destroyConnection(org.bitcoinj.protocols.channels.PaymentChannelCloseException.CloseReason)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>destroyConnection</h4>
<pre class="methodSignature">void&nbsp;destroyConnection&#8203;(<a href="PaymentChannelCloseException.CloseReason.html" title="enum in org.bitcoinj.protocols.channels">PaymentChannelCloseException.CloseReason</a>&nbsp;reason)</pre>
<div class="block"><p>Requests that the connection to the client be closed</p>

 <p>Called while holding a lock on the <a href="PaymentChannelServer.html" title="class in org.bitcoinj.protocols.channels"><code>PaymentChannelServer</code></a> object - be careful about reentrancy</p></div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>reason</code> - The reason for the closure, see the individual values for more details.
               It is usually safe to ignore this value.</dd>
</dl>
</li>
</ul>
<a id="channelOpen(org.bitcoinj.core.Sha256Hash)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>channelOpen</h4>
<pre class="methodSignature">void&nbsp;channelOpen&#8203;(<a href="../../core/Sha256Hash.html" title="class in org.bitcoinj.core">Sha256Hash</a>&nbsp;contractHash)</pre>
<div class="block"><p>Triggered when the channel is opened and payments can begin</p>

 <p>Called while holding a lock on the <a href="PaymentChannelServer.html" title="class in org.bitcoinj.protocols.channels"><code>PaymentChannelServer</code></a> object - be careful about reentrancy</p></div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>contractHash</code> - A unique identifier which represents this channel (actually the hash of the multisig contract)</dd>
</dl>
</li>
</ul>
<a id="paymentIncrease(org.bitcoinj.core.Coin,org.bitcoinj.core.Coin,com.google.protobuf.ByteString)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>paymentIncrease</h4>
<pre class="methodSignature">@Nullable
com.google.common.util.concurrent.ListenableFuture&lt;com.google.protobuf.ByteString&gt;&nbsp;paymentIncrease&#8203;(<a href="../../core/Coin.html" title="class in org.bitcoinj.core">Coin</a>&nbsp;by,
                                                                                                   <a href="../../core/Coin.html" title="class in org.bitcoinj.core">Coin</a>&nbsp;to,
                                                                                                   @Nullable
                                                                                                   com.google.protobuf.ByteString&nbsp;info)</pre>
<div class="block"><p>Called when the payment in this channel was successfully incremented by the client</p>

 <p>Called while holding a lock on the <a href="PaymentChannelServer.html" title="class in org.bitcoinj.protocols.channels"><code>PaymentChannelServer</code></a> object - be careful about reentrancy</p></div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>by</code> - The increase in total payment</dd>
<dd><code>to</code> - The new total payment to us (not including fees which may be required to claim the payment)</dd>
<dd><code>info</code> - Information about this payment increase, used to extend this protocol.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>A future that completes with the ack message that will be included in the PaymentAck message to the client. Use null for no ack message.</dd>
</dl>
</li>
</ul>
<a id="getUserKey()">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>getUserKey</h4>
<pre class="methodSignature">@Nullable
com.google.common.util.concurrent.ListenableFuture&lt;org.bouncycastle.crypto.params.KeyParameter&gt;&nbsp;getUserKey()</pre>
<div class="block"><p>Called when a channel is being closed and must be signed, possibly with an encrypted key.</p></div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>A future for the (nullable) KeyParameter for the ECKey, or <code>null</code> if no key is required.</dd>
</dl>
</li>
</ul>
</li>
</ul>
</section>
</li>
</ul>
</div>
</div>
</main>
<!-- ========= END OF CLASS DATA ========= -->
<footer role="contentinfo">
<nav role="navigation">
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a id="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a id="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../index.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-all.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../allclasses.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a id="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</nav>
</footer>
</body>
</html>
